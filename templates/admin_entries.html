{% extends "layout.html" %}
{% block title %}Admin â€“ All Entries{% endblock %}
{% block content %}

<div class="container-fluid py-4">

  <h2 class="fw-bold text-primary mb-4 text-center">All Entries (Admin View)</h2>

  <div class="table-responsive shadow rounded-4 p-3 bg-white">
    <table class="table table-hover align-middle">
      <thead class="table-primary text-center">
        <tr>
          <th>User</th>
          <th>Name</th>
          <th>Gender</th>
          <th>Amount</th>
          <th>Date</th>
          <th>Actions</th>
        </tr>
      </thead>

      <tbody>
        {% for entry in entries %}
        <tr class="text-center">
          <td>{{ entry['owner_name'] }}</td>
          <td>{{ entry['name'] }}</td>
          <td>{{ entry['gender'] }}</td>
          <td>&#8377;{{ "%.2f"|format(entry['amount'] or 0) }}</td>
          <td>{{ entry['date'] }}</td>

          <td>
            <a href="{{ url_for('view_entry', entry_id=entry['id']) }}" class="btn btn-info btn-sm text-white">
              <i class="fa-solid fa-eye"></i>
            </a>
            <a href="{{ url_for('edit_entry', entry_id=entry['id']) }}" class="btn btn-warning btn-sm">
              <i class="fa-solid fa-pen"></i>
            </a>
            <a onclick="return confirm('Delete this entry?')"
               href="{{ url_for('delete_entry', entry_id=entry['id']) }}"
               class="btn btn-danger btn-sm">
              <i class="fa-solid fa-trash"></i>
            </a>
          </td>
        </tr>
        {% endfor %}
      </tbody>

    </table>
  </div>

  <div class="mt-3">
    <a href="{{ url_for('admin') }}" class="btn btn-secondary">â† Back to Admin</a>
  </div>

</div>

{% endblock %}

